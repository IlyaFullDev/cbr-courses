## Скрипт сбора курсов с cbr.ru

Данный проект был создан как решение тестового задания.


## Задача:
Получение курсов, кроскурсов ЦБ.
- на входе: дата, код валюты, код базовой валюты (по-умолчанию RUR);
- получать курсы с http://cbr.ru;
- на выходе: значение курса и разница с предыдущим торговым днем;
- кешировать данные http://cbr.ru.
- продемонстрировать навыки работы с брокерами сообщений и реализовать сбор данных с cbr за 180 предыдущих дней с помощью воркера через консольную команду.


## Стек
- PHP 8.1
- Laravel 10
- Composer
- Redis 6.0 (кеш и очереди)

## Запуск
1. В папке проекта из командной строки запускаем:

composer install 

2. (Необязательно) Запускаем локальный сервер, в папке проекта из командной строки запускаем:

php artisan serve

3. Открывем в браузере наш хост, localhost:8000 если использовали artisan (может быть другой порт, если 8000 занят)

4. Готово


## Очереди
1. На главной странице прокручиваем вниз там будет блок Добавить очередь, нажимаем старт.
2. После того как очередь будет заполнена из командной строки запускаем воркера:

php artisan queue:work --tries=3 --backoff=3

--tries=3     количество попыток
--backoff=3   количество секунд ожидания перед повтором







